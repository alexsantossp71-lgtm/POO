<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Streams e Serialização | POO Masterclass</title>

    <!-- Fonts & Icons -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Fira+Code&display=swap"
        rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Syntax Highlighting -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />

    <!-- Styles -->
    <link rel="stylesheet" href="../styles.css">
    <style>
        .page-header {
            padding: 120px 0 60px;
            background: radial-gradient(circle at top right, rgba(139, 92, 246, 0.15), transparent 40%);
        }

        .content-grid {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 60px;
            margin-top: 60px;
        }

        @media (max-width: 1024px) {
            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        .sidebar-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 24px;
            position: sticky;
            top: 40px;
        }

        .key-point {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
            align-items: flex-start;
        }

        .key-point i {
            color: #8b5cf6;
            flex-shrink: 0;
            margin-top: 4px;
        }
    </style>
</head>

<body>
    <!-- Navigation -->
    <nav style="position: absolute; top: 40px; left: 0; right: 0; z-index: 100;">
        <div class="container">
            <a href="../index.html" class="btn btn-secondary" style="padding: 10px 20px;">
                <i data-lucide="arrow-left"></i>
                Voltar para Home
            </a>
        </div>
    </nav>

    <!-- Header -->
    <header class="page-header">
        <div class="container">
            <div class="section-tag"
                style="color: #8b5cf6; border-color: rgba(139, 92, 246, 0.2); background: rgba(139, 92, 246, 0.1);">
                Avançado</div>
            <h1 class="hero-title">Streams e Serialização</h1>
            <p class="hero-subtitle">Manipulação funcional de dados e persistência</p>
        </div>
    </header>

    <!-- Main Content -->
    <section class="page-content" style="padding-bottom: 100px;">
        <div class="container">

            <div class="content-grid">
                <div class="main-text">
                    <h2>Streams API (Java 8+)</h2>
                    <p>
                        A API de Streams revolucionou a forma como manipulamos coleções em Java. Em vez de escrever
                        loops <code>for</code> ou <code>while</code> complexos,
                        podemos usar uma abordagem <strong>declarativa</strong> (dizemos O QUE queremos, não COMO
                        fazer).
                    </p>

                    <pre><code class="language-java">
List<String> nomes = Arrays.asList("Ana", "Bruno", "Carlos", "Bia");

// Estilo Imperativo (Antigo)
for(String nome : nomes) {
    if(nome.startsWith("B")) {
        System.out.println(nome.toUpperCase());
    }
}

// Estilo Funcional com Streams (Novo)
nomes.stream()
     .filter(n -> n.startsWith("B"))  // Filtra
     .map(String::toUpperCase)        // Transforma
     .forEach(System.out::println);   // Executa ação
                    </code></pre>

                    <h3 style="margin-top: 40px;">Conceitos Avançados de Streams</h3>
                    <ul style="margin-bottom: 20px;">
                        <li><strong>Predicate:</strong> Interface funcional que recebe um valor e retorna boolean. Usada
                            no <code>filter</code>.</li>
                        <li><strong>Collect:</strong> Operação terminal que transforma o stream de volta em uma coleção
                            (ex: <code>.collect(Collectors.toList())</code>).</li>
                        <li><strong>Parallel Stream:</strong> Processamento paralelo automático usando múltiplos núcleos
                            da CPU. Basta chamar <code>.parallelStream()</code>.</li>
                    </ul>

                    <h4 style="color: var(--text-light); margin-top: 20px;">Evitando NullPointerException com Optional
                    </h4>
                    <p>
                        O <code>Optional</code> é um container que pode ou não conter um valor não-nulo. Ele força você
                        a pensar no caso "vazio".
                    </p>
                    <pre><code class="language-java">
Optional<String> possivelNome = buscarNomeNoBanco();

// Se existir, imprime. Se não, imprime padrão.
System.out.println(possivelNome.orElse("Nome não encontrado"));
                    </code></pre>

                    <h3 style="margin-top: 40px;">Serialização de Objetos</h3>
                    <p>
                        Serializar é transformar um objeto em memória (RAM) em uma sequência de bytes, para que ele
                        possa ser salvo no disco ou enviado pela rede.
                        Para uma classe ser serializável, ela deve implementar a interface <code>Serializable</code>.
                    </p>

                    <pre><code class="language-java">
import java.io.*;

// Interface marcadora (sem métodos)
class Usuario implements Serializable {
    String login;
    transient String senha; // transient = não será salvo!
}

// Salvando (Serializando)
ObjectOutputStream out = new ObjectOutputStream(new FileOutputStream("user.dat"));
out.writeObject(new Usuario());
out.close();
                    </code></pre>
                </div>

                <aside>
                    <div class="sidebar-card">
                        <h3>Operações de Stream</h3>
                        <div class="key-point">
                            <i data-lucide="filter"></i>
                            <div>
                                <strong>Filter</strong>
                                <p style="font-size: 0.9rem; margin-bottom: 0;">Seleciona elementos com base em uma
                                    condição.</p>
                            </div>
                        </div>
                        <div class="key-point">
                            <i data-lucide="arrow-right-left"></i>
                            <div>
                                <strong>Map</strong>
                                <p style="font-size: 0.9rem; margin-bottom: 0;">Transforma cada elemento em outra coisa.
                                </p>
                            </div>
                        </div>
                        <div class="key-point">
                            <i data-lucide="minimize-2"></i>
                            <div>
                                <strong>Reduce</strong>
                                <p style="font-size: 0.9rem; margin-bottom: 0;">Combina todos os elementos em um único
                                    resultado.</p>
                            </div>
                        </div>
                    </div>
                    <div class="sidebar-card"
                        style="margin-top: 24px; background: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(236, 72, 153, 0.1) 100%); border-color: var(--primary);">
                        <h3 style="color: var(--primary);">Teste seus conhecimentos</h3>
                        <p style="font-size: 0.9rem; color: var(--text-light); margin-bottom: 16px;">
                            Acha que já dominou esse assunto? Faça o quiz agora!
                        </p>
                        <a href="quiz.html" class="btn btn-primary"
                            style="width: 100%; text-align: center; justify-content: center;">
                            <i data-lucide="brain-circuit"></i>
                            Ir para o Quiz
                        </a>
                    </div>
                </aside>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="copyright">
                <p>&copy; 2025 Univesp. POO Masterclass.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
    <script>
        lucide.createIcons();
    </script>
</body>

</html>